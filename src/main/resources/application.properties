##############################################
# üß™ FUNKARD ‚Äî AMBIENTE DI SVILUPPO (LOCALE)
##############################################

spring.datasource.url=jdbc:postgresql://ep-old-morning-agjdnypv-pooler.c-2.eu-central-1.aws.neon.tech/neondb
spring.datasource.username=neondb_owner
spring.datasource.password=npg_Yqd62mnGCFNb

# === üóÑÔ∏è HikariCP Connection Pool (Ottimizzato per Neon Postgres)
# Riduce compute Neon e migliora stabilit√† senza impattare performance
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.validation-timeout=5000

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

server.port=8080
server.error.include-message=always
server.error.include-binding-errors=always

# funkard.frontend.url=https://funkard.vercel.app  # Rimosso - non pi√π utilizzato

jwt.secret=FUNKARD_DEV_KEY_2025
jwt.expiration=86400000

logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.com.zaxxer.hikari=INFO
logging.level.com.funkard=DEBUG

spring.application.name=Funkard API (DEV)

# === üìß Email Configuration (Primary: no-reply@funkard.com)
MAIL_HOST=${MAIL_HOST:smtp.register.it}
MAIL_PORT=${MAIL_PORT:587}
MAIL_USERNAME=${MAIL_USERNAME:no-reply@funkard.com}
MAIL_PASSWORD=${MAIL_PASSWORD:}
MAIL_FROM=${MAIL_FROM:no-reply@funkard.com}
MAIL_FROM_NAME=${MAIL_FROM_NAME:Funkard}

# === üìß Email Configuration (Fallback: support@funkard.com)
MAIL_FALLBACK=${MAIL_FALLBACK:support@funkard.com}
MAIL_FALLBACK_HOST=${MAIL_FALLBACK_HOST:smtp.register.it}
MAIL_FALLBACK_PORT=${MAIL_FALLBACK_PORT:587}
MAIL_FALLBACK_USERNAME=${MAIL_FALLBACK_USERNAME:support@funkard.com}
MAIL_FALLBACK_PASSWORD=${MAIL_FALLBACK_PASSWORD:}

# === üìß Spring Mail (legacy - mantenuto per compatibilit√†)
spring.mail.host=${MAIL_HOST:smtp.register.it}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:no-reply@funkard.com}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.from=Funkard <no-reply@funkard.com>
spring.mail.from.address=${MAIL_FROM:no-reply@funkard.com}

# Secret per cron jobs protetti via Bearer
FUNKARD_CRON_SECRET=${FUNKARD_CRON_SECRET}

# Admin notifications
admin.email=${ADMIN_EMAIL:}

# Admin authentication
admin.token=${ADMIN_TOKEN:FUNKARD_ADMIN_TOKEN_2025}

# Disable Flyway for development
spring.flyway.enabled=false

